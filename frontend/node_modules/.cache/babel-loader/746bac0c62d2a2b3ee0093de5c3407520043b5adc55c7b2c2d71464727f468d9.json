{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nicolas\\\\OneDrive\\\\Documentos\\\\8vo Semestre\\\\Software I\\\\Seed_Store_Microservice\\\\frontend\\\\src\\\\components\\\\sowing\\\\RegisterSowing.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { registerSowing } from \"../../services/sowingService\";\nimport { getAllSeeds } from \"../../services/seedService\";\nimport \"../../styles/SowingModal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegisterSowing({\n  onClose,\n  onSaved\n}) {\n  _s();\n  const [seeds, setSeeds] = useState([]);\n  const [form, setForm] = useState({\n    seedId: \"\",\n    quantity: \"\",\n    startDate: \"\",\n    harvestDate: \"\",\n    observations: \"\",\n    fumigationFrequency: \"\"\n  });\n  useEffect(() => {\n    loadSeeds();\n  }, []);\n  const loadSeeds = async () => {\n    try {\n      const res = await getAllSeeds();\n      setSeeds(res.data);\n    } catch (error) {\n      console.error(\"❌ Error cargando semillas:\", error);\n      alert(\"No se pudieron cargar las semillas\");\n    }\n  };\n  const handleChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const handleSave = async () => {\n    if (!form.seedId || !form.startDate) {\n      alert(\"Debe seleccionar una semilla y la fecha de inicio\");\n      return;\n    }\n    const payload = {\n      seedId: Number(form.seedId),\n      quantity: Number(form.quantity || 0),\n      startDate: form.startDate,\n      harvestDate: form.harvestDate || null,\n      observations: form.observations,\n      fumigationFrequency: Number(form.fumigationFrequency || 0),\n      status: \"Sembrada\"\n    };\n    try {\n      await registerSowing(payload);\n      onSaved();\n    } catch (error) {\n      console.error(\"❌ Error registrando siembra:\", error);\n      alert(\"Ocurrió un error al registrar la siembra\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-bg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Registrar Siembra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Seleccione una semilla\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"seedId\",\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Seleccione la semilla\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 3\n        }, this), seeds.map(seed => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: seed.id,\n          children: [seed.plantName, \" \", seed.variety, \" - (\", seed.quantity, \" disponibles)\"]\n        }, seed.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 5\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"quantity\",\n        type: \"number\",\n        placeholder: \"Cantidad\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Fecha inicio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"startDate\",\n        type: \"date\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Fecha cosecha\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"harvestDate\",\n        type: \"date\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"observations\",\n        placeholder: \"Observaciones\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"fumigationFrequency\",\n        type: \"number\",\n        placeholder: \"Frecuencia fumigaci\\xF3n (d\\xEDas)\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Contacto (opcional, para apartar)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"contactId\",\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Sin contacto (Disponible)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), contacts.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: c.id,\n          children: [c.name, \" - \", c.identification]\n        }, c.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-save\",\n        onClick: handleSave,\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-cancel\",\n        onClick: onClose,\n        children: \"Cancelar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(RegisterSowing, \"DrtChOttEwuv/GeDZrXeDrMijzM=\");\n_c = RegisterSowing;\nvar _c;\n$RefreshReg$(_c, \"RegisterSowing\");","map":{"version":3,"names":["React","useState","useEffect","registerSowing","getAllSeeds","jsxDEV","_jsxDEV","RegisterSowing","onClose","onSaved","_s","seeds","setSeeds","form","setForm","seedId","quantity","startDate","harvestDate","observations","fumigationFrequency","loadSeeds","res","data","error","console","alert","handleChange","e","target","name","value","handleSave","payload","Number","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","seed","id","plantName","variety","type","placeholder","contacts","c","identification","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Nicolas/OneDrive/Documentos/8vo Semestre/Software I/Seed_Store_Microservice/frontend/src/components/sowing/RegisterSowing.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { registerSowing } from \"../../services/sowingService\";\r\nimport { getAllSeeds } from \"../../services/seedService\";\r\nimport \"../../styles/SowingModal.css\";\r\n\r\nexport default function RegisterSowing({ onClose, onSaved }) {\r\n  const [seeds, setSeeds] = useState([]);\r\n  const [form, setForm] = useState({\r\n    seedId: \"\",\r\n    quantity: \"\",\r\n    startDate: \"\",\r\n    harvestDate: \"\",\r\n    observations: \"\",\r\n    fumigationFrequency: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadSeeds();\r\n  }, []);\r\n\r\n  const loadSeeds = async () => {\r\n    try {\r\n      const res = await getAllSeeds();\r\n      setSeeds(res.data);\r\n    } catch (error) {\r\n      console.error(\"❌ Error cargando semillas:\", error);\r\n      alert(\"No se pudieron cargar las semillas\");\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) =>\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSave = async () => {\r\n    if (!form.seedId || !form.startDate) {\r\n      alert(\"Debe seleccionar una semilla y la fecha de inicio\");\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      seedId: Number(form.seedId),\r\n      quantity: Number(form.quantity || 0),\r\n      startDate: form.startDate,\r\n      harvestDate: form.harvestDate || null,\r\n      observations: form.observations,\r\n      fumigationFrequency: Number(form.fumigationFrequency || 0),\r\n      status: \"Sembrada\",\r\n    };\r\n\r\n    try {\r\n      await registerSowing(payload);\r\n      onSaved();\r\n    } catch (error) {\r\n      console.error(\"❌ Error registrando siembra:\", error);\r\n      alert(\"Ocurrió un error al registrar la siembra\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-bg\">\r\n      <div className=\"modal-box\">\r\n        <h2>Registrar Siembra</h2>\r\n\r\n        <label>Seleccione una semilla</label>\r\n        <select name=\"seedId\" onChange={handleChange}>\r\n  <option value=\"\">Seleccione la semilla</option>\r\n\r\n  {seeds.map(seed => (\r\n    <option key={seed.id} value={seed.id}>\r\n      {seed.plantName} {seed.variety} - ({seed.quantity} disponibles)\r\n    </option>\r\n  ))}\r\n</select>\r\n\r\n\r\n        <input\r\n          name=\"quantity\"\r\n          type=\"number\"\r\n          placeholder=\"Cantidad\"\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <label>Fecha inicio</label>\r\n        <input name=\"startDate\" type=\"date\" onChange={handleChange} />\r\n\r\n        <label>Fecha cosecha</label>\r\n        <input name=\"harvestDate\" type=\"date\" onChange={handleChange} />\r\n\r\n        <textarea\r\n          name=\"observations\"\r\n          placeholder=\"Observaciones\"\r\n          onChange={handleChange}\r\n        />\r\n\r\n        <input\r\n          name=\"fumigationFrequency\"\r\n          type=\"number\"\r\n          placeholder=\"Frecuencia fumigación (días)\"\r\n          onChange={handleChange}\r\n        />\r\n        <label>Contacto (opcional, para apartar)</label>\r\n      <select name=\"contactId\" onChange={handleChange}>\r\n        <option value=\"\">Sin contacto (Disponible)</option>\r\n        {contacts.map(c => (\r\n          <option key={c.id} value={c.id}>\r\n            {c.name} - {c.identification}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n        <button className=\"btn-save\" onClick={handleSave}>\r\n          Guardar\r\n        </button>\r\n        <button className=\"btn-cancel\" onClick={onClose}>\r\n          Cancelar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}